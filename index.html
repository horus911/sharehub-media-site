<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ShareMedia Statique</title>
<style>
  body {
    font-family: 'Comic Sans MS', cursive, sans-serif;
    background: #f0f8ff;
    margin: 0; padding: 20px;
    color: #333;
  }
  h1 {
    text-align: center;
    color: #3a86ff;
  }
  .gallery {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    justify-content: center;
  }
  .gallery-item {
    border: 3px solid #3a86ff;
    border-radius: 10px;
    padding: 5px;
    width: 150px;
    text-align: center;
    background: #e0f7ff;
  }
  .gallery-item img,
  .gallery-item video {
    max-width: 100%;
    border-radius: 8px;
  }
  .upload-section {
    margin: 20px auto;
    max-width: 500px;
    text-align: center;
  }
  input[type="file"] {
    margin: 10px 0;
  }
  audio, video {
    width: 100%;
    margin-top: 10px;
  }
  form {
    max-width: 400px;
    margin: 30px auto;
    background: #cce7ff;
    padding: 15px;
    border-radius: 10px;
  }
  form input, form textarea {
    width: 100%;
    margin: 5px 0 15px;
    padding: 8px;
    border: 2px solid #3a86ff;
    border-radius: 6px;
    font-size: 1em;
  }
  form button {
    background: #3a86ff;
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 1em;
  }
  form button:hover {
    background: #265dff;
  }
</style>
</head>
<body>

<h1>ShareMedia Statique</h1>

<section class="upload-section">
  <h2>Uploader un média (preview seulement)</h2>
  <input type="file" id="fileInput" accept="image/*,video/*,audio/*" />
  <div id="preview"></div>
</section>

<section class="gallery" id="gallery">
  <h2>Galerie</h2>
  <!-- Items ajoutés via JS -->
</section>

<section>
  <h2>Contact</h2>
  <form action="https://formspree.io/f/mwkajqzo" method="POST">
    <input type="email" name="email" placeholder="Votre email" required />
    <textarea name="message" placeholder="Votre message" rows="4" required></textarea>
    <button type="submit">Envoyer</button>
  </form>
</section>

<script>
  const fileInput = document.getElementById('fileInput');
  const preview = document.getElementById('preview');
  const gallery = document.getElementById('gallery');

  fileInput.addEventListener('change', e => {
    preview.innerHTML = ''; // clear previous preview

    const file = e.target.files[0];
    if (!file) return;

    const url = URL.createObjectURL(file);
    let element;

    if (file.type.startsWith('image/')) {
      element = document.createElement('img');
      element.src = url;
    } else if (file.type.startsWith('video/')) {
      element = document.createElement('video');
      element.src = url;
      element.controls = true;
    } else if (file.type.startsWith('audio/')) {
      element = document.createElement('audio');
      element.src = url;
      element.controls = true;
    } else {
      preview.textContent = 'Type de fichier non supporté pour la prévisualisation.';
      return;
    }

    preview.appendChild(element);

    // Ajouter aussi dans la galerie statique (temporaire)
    const galleryItem = document.createElement('div');
    galleryItem.className = 'gallery-item';
    const clone = element.cloneNode(true);
    galleryItem.appendChild(clone);
    gallery.appendChild(galleryItem);
  });
</script>

</body>
</html>
